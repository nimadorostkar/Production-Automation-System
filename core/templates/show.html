{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

    <div class="row">
      <div class="col-12">
        <div class="card card-chart">

             <script type="text/javascript">

              window.onload = function () {
                  OrgChart.templates.ana.plus = '<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle>'
                      + '<text text-anchor="middle" style="font-size: 18px;cursor:pointer;" fill="#757575" x="15" y="22">{collapsed-children-count}</text>';

                  var chart = new OrgChart(document.getElementById("tree"), {
                      template: "ana",
                      enableDragDrop: true,
                      assistantSeparation: 170,
                      align: OrgChart.ORIENTATION,
                      toolbar: {
                          fullScreen: true,
                          zoom: true,
                          fit: true,
                          expandAll: true
                      },
                      tags: {
                              "محصول نهایی": {
                                  template: "rony"
                              },
                              "----": {
                                  template: "polina"
                              },
                              "قطعه خریداری شده": {
                                  template: "ula"
                              },
                              "---": {
                                  template: "ana"
                              },
                              "نیرو خانگی": {
                                  template: "belinda"
                              }
                          },
                      nodeBinding: {
                          field_0: "name",
                          field_1: "title",
                          field_2: "content",
                          img_0: "img"
                      },
                  });

                  chart.load([
                     {% for product in products %}
                        { id: {{ product.id }}, pid: {{ product.pid }}, name: {{ product.name }}, title: "محصول نهایی", content:"تست تست تست ۳۳۳ تست", img: "img/sooket_halooj.jpg", tags: ["محصول نهایی"] }
                     {% endfor %}
                  ]);
              };
             </script>



          <div id="tree"> <div>

        </div>
      </div>

    </div>



{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

  <script>


    $(document).ready(function() {
      // Javascript method's body can be found in assets/js/demos.js
      demo.initDashboardPageCharts();

    });

  </script>

{% endblock javascripts %}
